# Exercise 9.15

The new types were pretty easy to implement, we created `CoursePartDetailed` which extends `CoursePartBase` and adds the `description` property.

The parts component uses the [[9d React with Types#Type Narrowing]] we saw in the course.

# Exercise 9.17

For the Entry form I was planning on doing uncontrolled inputs, but then I realized that I should reset all the inputs after the Entry creation, there's no a clean way of doing it with uncontrolled inputs. Nevertheless in the [[React/Misc Resources/Misc#React TS cheat sheet|TS cheat sheet]] we found a snippet of code like this:

```ts
const handleSubmit = (e: SyntheticEvent) => {
    e.preventDefault();
    const target = e.target as typeof e.target & {
      date: { value: string };
    };

    const date = target.date.value;
  };
```

The interesting bit is the line where we're asserting the type of the target, this is called [Type Intersection](https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types).

After switching to controlled inputs, the creation is pretty simple, the only weird bit is when the request fail, we must define the type of the error, for that we can use the axios function `isAxiosError` :

```ts
diaryService
  .createEntry(entryObj)
  .then((data) => {
	props.onEntryCreation(data);
	setDate('');
	setVisibility('');
	setWeather('');
	setComment('');
  })
  .catch((error) => {
	if (axios.isAxiosError(error)) {
	  setError(error.response?.data);
	  console.log('Creation error: ', error);
	}
  });
```

The function acts as Type Guard and let TS know that the error is of type `AxiosError` with that we can access its properties in order to display an adequate error message.